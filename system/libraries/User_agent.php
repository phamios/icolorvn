<?php /*
Copyright (c) 2012 Appngon.com & Store8x.com
*/
${"\x47\x4c\x4f\x42\x41\x4c\x53"}["t\x6eu\x74gh\x73zj\x6d"]="\x6cang\x75ag\x65\x73";${"\x47\x4c\x4f\x42\x41L\x53"}["\x79\x6e\x66t\x73\x73"]="m\x61\x74\x63\x68";${"\x47L\x4f\x42AL\x53"}["\x63\x74\x72\x7a\x64\x73w"]="\x76\x61\x6c";${"G\x4c\x4f\x42\x41\x4c\x53"}["\x6abt\x76\x6b\x6b\x63"]="\x6b\x65\x79";${"\x47L\x4fBA\x4c\x53"}["\x6d\x72\x77\x6e\x69\x66f\x6e\x63\x77\x71"]="\x66\x75nc\x74i\x6f\x6e";${"G\x4c\x4f\x42\x41L\x53"}["\x71\x6ap\x66\x77\x67op"]="\x72o\x62ots";${"\x47\x4c\x4fB\x41\x4c\x53"}["b\x6bqv\x67\x6f\x6f\x6dd\x74l"]="brow\x73\x65\x72\x73";${"G\x4cO\x42\x41\x4cS"}["\x75\x72hmf\x71lm\x71p\x65"]="\x70\x6cat\x66or\x6d\x73";${"\x47L\x4f\x42\x41\x4cS"}["p\x73k\x73\x74w\x77dnf"]="r\x65\x74\x75rn";if(!defined("BAS\x45\x50\x41\x54\x48"))exit("\x4e\x6f\x20direct\x20\x73cript \x61ccess\x20all\x6fw\x65d");class CI_User_agent{var$agent=NULL;var$is_browser=FALSE;var$is_robot=FALSE;var$is_mobile=FALSE;var$languages=array();var$charsets=array();var$platforms=array();var$browsers=array();var$mobiles=array();var$robots=array();var$platform='';var$browser='';var$version='';var$mobile='';var$robot='';public function __construct(){if(isset($_SERVER["\x48TTP_U\x53\x45R_A\x47E\x4eT"])){$this->agent=trim($_SERVER["H\x54TP\x5fUSER_A\x47\x45NT"]);}if(!is_null($this->agent)){if($this->_load_agent_file()){$this->_compile_data();}}log_message("d\x65\x62ug","\x55ser\x20A\x67e\x6et C\x6c\x61\x73\x73\x20\x49\x6e\x69tial\x69\x7a\x65d");}private function _load_agent_file(){${"\x47L\x4f\x42A\x4cS"}["v\x6e\x63lgrt\x61q\x69"]="m\x6fb\x69\x6ce\x73";if(defined("ENV\x49RO\x4eM\x45\x4e\x54")AND is_file(APPPATH."\x63on\x66\x69\x67/".ENVIRONMENT."/user_a\x67\x65nts\x2e\x70\x68p")){include(APPPATH."\x63o\x6ef\x69\x67/".ENVIRONMENT."/u\x73\x65r\x5f\x61g\x65n\x74s.\x70hp");}elseif(is_file(APPPATH."c\x6fn\x66\x69\x67/u\x73e\x72_age\x6et\x73.\x70\x68p")){include(APPPATH."c\x6fnfi\x67/u\x73\x65\x72\x5f\x61g\x65n\x74s\x2ep\x68\x70");}else{return FALSE;}${"\x47\x4cO\x42AL\x53"}["\x6d\x62\x67\x74\x62h\x79\x6bmm\x63\x77"]="\x70\x6c\x61\x74\x66\x6frms";${${"\x47\x4c\x4f\x42ALS"}["\x70s\x6bs\x74\x77\x77d\x6e\x66"]}=FALSE;$qosuvyuxflo="\x62row\x73\x65\x72s";if(isset(${${"\x47\x4cO\x42\x41\x4cS"}["\x6d\x62\x67\x74\x62\x68\x79kmmc\x77"]})){${"\x47\x4cO\x42A\x4cS"}["\x6cw\x67\x63\x78w\x6b"]="r\x65t\x75r\x6e";$gdnjcxice="p\x6c\x61\x74f\x6frms";$this->platforms=${${"G\x4cO\x42\x41\x4c\x53"}["\x75rh\x6d\x66\x71\x6cm\x71\x70\x65"]};unset(${$gdnjcxice});${${"\x47\x4c\x4f\x42\x41L\x53"}["\x6c\x77g\x63\x78\x77\x6b"]}=TRUE;}${"\x47\x4cO\x42\x41\x4c\x53"}["\x75g\x6b\x62\x6fr\x64"]="\x72\x65\x74urn";if(isset(${$qosuvyuxflo})){$this->browsers=${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x62\x6bq\x76\x67\x6fo\x6d\x64\x74l"]};unset(${${"\x47\x4c\x4f\x42A\x4c\x53"}["\x62\x6b\x71v\x67oo\x6d\x64\x74l"]});${"\x47LO\x42ALS"}["s\x63\x77\x67\x7a\x6aqu\x71\x7a\x79"]="\x72e\x74urn";${${"\x47\x4cOBA\x4c\x53"}["s\x63wgz\x6a\x71\x75qz\x79"]}=TRUE;}if(isset(${${"GL\x4f\x42\x41LS"}["vn\x63\x6c\x67\x72\x74\x61q\x69"]})){$burqndfwc="m\x6f\x62\x69l\x65\x73";$smocxmtp="m\x6f\x62\x69\x6c\x65s";$this->mobiles=${$smocxmtp};unset(${$burqndfwc});${${"GL\x4f\x42AL\x53"}["ps\x6b\x73\x74\x77\x77\x64nf"]}=TRUE;}if(isset(${${"\x47\x4c\x4fBA\x4c\x53"}["q\x6ap\x66\x77\x67\x6f\x70"]})){${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6d\x6ex\x75o\x6bq"]="\x72\x6f\x62ot\x73";$this->robots=${${"\x47L\x4f\x42\x41\x4c\x53"}["\x6d\x6ex\x75o\x6b\x71"]};unset(${${"\x47LO\x42\x41\x4c\x53"}["q\x6a\x70\x66\x77g\x6fp"]});${${"\x47LO\x42A\x4cS"}["\x70s\x6bs\x74\x77\x77\x64\x6e\x66"]}=TRUE;}return${${"\x47L\x4f\x42\x41\x4c\x53"}["u\x67kbo\x72\x64"]};}private function _compile_data(){$this->_set_platform();foreach(array("_\x73et\x5fr\x6f\x62\x6ft","\x5fse\x74_bro\x77s\x65r","\x5fs\x65\x74_mo\x62i\x6ce")as${${"\x47L\x4f\x42\x41\x4cS"}["m\x72\x77n\x69\x66\x66\x6ec\x77\x71"]}){if($this->${${"\x47\x4c\x4f\x42A\x4c\x53"}["m\x72\x77n\x69\x66\x66n\x63w\x71"]}()===TRUE){break;}}}private function _set_platform(){if(is_array($this->platforms)AND count($this->platforms)>0){foreach($this->platforms as${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6a\x62tv\x6bk\x63"]}=>${${"\x47\x4c\x4fB\x41LS"}["\x63t\x72z\x64s\x77"]}){if(preg_match("|".preg_quote(${${"GLO\x42A\x4cS"}["\x6a\x62t\x76\x6bkc"]})."|i",$this->agent)){$this->platform=${${"GL\x4fBA\x4cS"}["\x63\x74rzdsw"]};return TRUE;}}}$this->platform="\x55nk\x6e\x6f\x77n P\x6catf\x6fr\x6d";}private function _set_browser(){if(is_array($this->browsers)AND count($this->browsers)>0){foreach($this->browsers as${${"\x47\x4cO\x42\x41\x4cS"}["\x6a\x62\x74\x76\x6bk\x63"]}=>${${"\x47\x4cO\x42A\x4cS"}["\x63\x74\x72\x7ad\x73\x77"]}){if(preg_match("|".preg_quote(${${"G\x4cO\x42A\x4c\x53"}["jb\x74vkk\x63"]}).".*?([0-9\x5c\x2e]+)|i",$this->agent,${${"G\x4c\x4f\x42A\x4cS"}["\x79n\x66ts\x73"]})){$xwivmnkq="\x76al";${"\x47L\x4fB\x41\x4c\x53"}["v\x6b\x78\x70\x77m\x73"]="\x6d\x61\x74\x63h";$this->is_browser=TRUE;$this->version=${${"\x47\x4c\x4fB\x41L\x53"}["\x76kxp\x77m\x73"]}[1];$this->browser=${$xwivmnkq};$this->_set_mobile();return TRUE;}}}return FALSE;}private function _set_robot(){if(is_array($this->robots)AND count($this->robots)>0){$koihpksis="\x6b\x65y";${"G\x4c\x4fB\x41LS"}["\x70e\x67\x7ay\x79\x63o"]="v\x61\x6c";foreach($this->robots as${$koihpksis}=>${${"\x47\x4cOBA\x4cS"}["\x70e\x67\x7ay\x79c\x6f"]}){${"\x47\x4c\x4f\x42\x41\x4cS"}["\x78\x62\x68\x6f\x76\x64\x63\x6a\x69"]="k\x65y";if(preg_match("|".preg_quote(${${"\x47\x4c\x4fB\x41LS"}["\x78\x62\x68\x6fv\x64\x63j\x69"]})."|\x69",$this->agent)){$this->is_robot=TRUE;${"\x47\x4cO\x42\x41\x4c\x53"}["\x77m\x63t\x68qgs"]="\x76\x61\x6c";$this->robot=${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x77\x6d\x63th\x71gs"]};return TRUE;}}}return FALSE;}private function _set_mobile(){if(is_array($this->mobiles)AND count($this->mobiles)>0){$obgskd="k\x65\x79";${"\x47\x4c\x4f\x42\x41\x4cS"}["\x67vcn\x70vsw"]="val";foreach($this->mobiles as${$obgskd}=>${${"G\x4cO\x42A\x4c\x53"}["\x67\x76c\x6e\x70vs\x77"]}){if(FALSE!==(strpos(strtolower($this->agent),${${"\x47\x4c\x4f\x42AL\x53"}["\x6ab\x74\x76\x6b\x6b\x63"]}))){${"\x47\x4c\x4f\x42A\x4c\x53"}["\x69n\x6c\x68\x71b\x6c\x6b"]="v\x61\x6c";$this->is_mobile=TRUE;$this->mobile=${${"G\x4c\x4fB\x41\x4cS"}["\x69\x6e\x6c\x68\x71\x62\x6ck"]};return TRUE;}}}return FALSE;}private function _set_languages(){if((count($this->languages)==0)AND isset($_SERVER["HT\x54P\x5f\x41C\x43E\x50T_LA\x4eGUA\x47E"])AND$_SERVER["H\x54\x54\x50\x5f\x41\x43\x43E\x50\x54_L\x41\x4e\x47\x55\x41\x47E"]!=""){$koddqxlqisf="la\x6e\x67\x75ag\x65s";${${"\x47\x4c\x4f\x42\x41L\x53"}["\x74\x6e\x75\x74\x67\x68\x73\x7a\x6a\x6d"]}=preg_replace("/(\x3b\x71=[0-9\x5c\x2e]+)/i","",strtolower(trim($_SERVER["HT\x54\x50_\x41\x43C\x45\x50\x54\x5fLANGU\x41\x47\x45"])));$this->languages=explode(",",${$koddqxlqisf});}if(count($this->languages)==0){$this->languages=array("\x55\x6edefined");}}private function _set_charsets(){if((count($this->charsets)==0)AND isset($_SERVER["HTT\x50_\x41C\x43\x45\x50\x54\x5fCHAR\x53E\x54"])AND$_SERVER["\x48TTP_A\x43\x43\x45P\x54\x5f\x43\x48\x41R\x53E\x54"]!=""){${"GL\x4fBALS"}["\x77s\x6e\x62\x6c\x71n\x71"]="cha\x72\x73\x65\x74\x73";$qkmicrqrgl="\x63\x68a\x72\x73e\x74\x73";${$qkmicrqrgl}=preg_replace("/(;\x71\x3d.+)/\x69","",strtolower(trim($_SERVER["\x48T\x54\x50_\x41\x43C\x45\x50\x54_\x43HA\x52\x53ET"])));$this->charsets=explode(",",${${"\x47\x4cOBA\x4cS"}["\x77s\x6e\x62l\x71n\x71"]});}if(count($this->charsets)==0){$this->charsets=array("U\x6e\x64\x65\x66\x69\x6e\x65\x64");}}public function is_browser($key=NULL){$ikbcsoso="\x6be\x79";if(!$this->is_browser){return FALSE;}if(${$ikbcsoso}===NULL){return TRUE;}return array_key_exists(${${"G\x4c\x4f\x42\x41\x4cS"}["\x6ab\x74\x76k\x6bc"]},$this->browsers)AND$this->browser===$this->browsers[${${"\x47\x4c\x4fBA\x4c\x53"}["\x6a\x62tvkkc"]}];}public function is_robot($key=NULL){$rosiyifwe="\x6b\x65\x79";${"\x47\x4cOB\x41L\x53"}["h\x6f\x77d\x78\x67"]="\x6b\x65\x79";if(!$this->is_robot){return FALSE;}if(${$rosiyifwe}===NULL){return TRUE;}return array_key_exists(${${"\x47L\x4fB\x41L\x53"}["\x68o\x77\x64\x78\x67"]},$this->robots)AND$this->robot===$this->robots[${${"G\x4c\x4fB\x41\x4c\x53"}["\x6a\x62\x74\x76kkc"]}];}public function is_mobile($key=NULL){$amtcwwitpnmx="\x6bey";if(!$this->is_mobile){return FALSE;}if(${$amtcwwitpnmx}===NULL){return TRUE;}return array_key_exists(${${"G\x4cO\x42\x41\x4c\x53"}["\x6a\x62\x74v\x6bk\x63"]},$this->mobiles)AND$this->mobile===$this->mobiles[${${"G\x4cOBAL\x53"}["\x6a\x62\x74\x76\x6bk\x63"]}];}public function is_referral(){if(!isset($_SERVER["HTT\x50\x5f\x52EFE\x52E\x52"])OR$_SERVER["\x48\x54T\x50\x5fR\x45FERE\x52"]==""){return FALSE;}return TRUE;}public function agent_string(){return$this->agent;}public function platform(){return$this->platform;}public function browser(){return$this->browser;}public function version(){return$this->version;}public function robot(){return$this->robot;}public function mobile(){return$this->mobile;}public function referrer(){return(!isset($_SERVER["\x48\x54\x54\x50\x5fREFERE\x52"])OR$_SERVER["HTT\x50\x5f\x52E\x46\x45\x52\x45\x52"]=="")?"":trim($_SERVER["H\x54\x54P\x5fREF\x45R\x45\x52"]);}public function languages(){if(count($this->languages)==0){$this->_set_languages();}return$this->languages;}public function charsets(){if(count($this->charsets)==0){$this->_set_charsets();}return$this->charsets;}public function accept_lang($lang='en'){${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x71\x77m\x70k\x65ub\x6d\x64h"]="lan\x67";return(in_array(strtolower(${${"GLO\x42\x41L\x53"}["\x71wm\x70\x6beubmd\x68"]}),$this->languages(),TRUE));}public function accept_charset($charset='utf-8'){${"\x47\x4c\x4f\x42\x41L\x53"}["\x6c\x78\x77n\x64\x69x"]="c\x68a\x72se\x74";return(in_array(strtolower(${${"\x47\x4c\x4fB\x41\x4c\x53"}["l\x78w\x6e\x64i\x78"]}),$this->charsets(),TRUE));}}
?>